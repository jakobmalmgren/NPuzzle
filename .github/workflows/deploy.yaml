name: Deploy to github pages

on:
  push:
    branches:
      - main

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: klona repot
        uses: actions/checkout@v4
      - name: install dependencies
        run: npm install
      - name: build dist
        run: npm run build
      - name: setup pages
        uses: actions/configure-pages@v3
      - name: upload distfile
        uses: actions/upload-pages-artifact@v3
        with:
          path: "./dist"
      - name: deploy to github pages
        uses: actions/deploy-pages@v4
        id: deployment
# # ğŸ”· Namnet pÃ¥ workflowen â€” visas i GitHub under "Actions"-fliken
# name: Deploy to github pages

# # ğŸ”· NÃ¤r ska workflowen kÃ¶ras?
# # HÃ¤r kÃ¶rs den automatiskt varje gÃ¥ng du pushar till "main"-grenen.
# on:
#   push:
#     branches:
#       - main

# # ğŸ”· BehÃ¶righeter som krÃ¤vs fÃ¶r att jobba med GitHub Pages (och artifacts).
# permissions:
#   contents: read       # Kan lÃ¤sa innehÃ¥llet i repo
#   pages: write         # FÃ¥r skriva till GitHub Pages
#   id-token: write      # BehÃ¶vs fÃ¶r autentisering mot GitHub Pages

# # ğŸ”· Jobben som ska kÃ¶ras
# jobs:
#   build:
#     runs-on: ubuntu-latest  # KÃ¶r pÃ¥ en virtuell Linux-maskin (Ubuntu)

#     steps:
#       # ğŸ“¦ 1. Klonar (hÃ¤mtar) koden frÃ¥n GitHub-repot
#       - name: klona repot
#         uses: actions/checkout@v4

#       # ğŸ“¦ 2. Installerar alla npm-paket frÃ¥n package.json
#       - name: install dependencies
#         run: npm install

#       # ğŸ› ï¸ 3. Bygger projektet (t.ex. kÃ¶r Vite eller annan bundler)
#       # Det skapas dÃ¥ en "dist" mapp med fÃ¤rdiga HTML/CSS/JS-filer
#       - name: build dist
#         run: npm run build

#       # ğŸŒ 4. FÃ¶rbereder GitHub Pages att ta emot nya filer
#       # Denna action mÃ¥ste kÃ¶ras innan upload + deploy
#       - name: setup pages
#         uses: actions/configure-pages@v3

#       # â˜ï¸ 5. Laddar upp "dist"-mappen som en artifact tillfÃ¤lligt
#       # GitHub Pages tar senare denna artifact och publicerar innehÃ¥llet
#       - name: upload distfile
#         uses: actions/upload-pages-artifact@v3
#         with:
#           path: "./dist"  # Mappen med de fÃ¤rdigbyggda filerna

#       # ğŸš€ 6. SjÃ¤lva publiceringen till GitHub Pages
#       # Tar filerna frÃ¥n ovan och laddar upp till Pages
#       - name: deploy to github pages
#         uses: actions/deploy-pages@v4
#         id: deployment  # Identifierare (kan anvÃ¤ndas fÃ¶r referens om man vill)
